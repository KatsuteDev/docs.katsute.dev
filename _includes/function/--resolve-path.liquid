{% assign __file = include.path | split: '/' | last | downcase %}
{% if __file == "index.html" or __file == "readme.md" %}
    {% comment %} folder {% endcomment %}
    {% assign __len = include.path | split: '/' | size | minus: 1 %}
    /{{ include.path | split: '/' | slice: 0, __len | join: '/' }}
{% else %}
    {% comment %} file {% endcomment %}
    {% unless include.noext %}
        /{{ include.path }}
    {% else %}
        {% assign __ldot = include.path | split: '.' | size | minus: 1 %}
        {% assign __name = include.path | split: '.' | slice: 0, __ldot | join: '.' %}
        /{{ __name }}
    {% endunless %}
{% endif %}